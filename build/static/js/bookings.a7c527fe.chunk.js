(this.webpackJsonpserviceweb=this.webpackJsonpserviceweb||[]).push([[2],{276:function(e,t,c){"use strict";c.r(t);var s=c(34),n=c(32),a=c(0),i=c(44),r=c.n(i),l=c(36),o=c(41),j=c.n(o),d=c(31),b=c(35),u=c(3),m=function(){var e=Object(d.p)(),t=Object(a.useState)(!1),c=Object(n.a)(t,2),i=c[0],o=c[1],m=Object(a.useState)(!1),O=Object(n.a)(m,2),h=O[0],x=O[1],f=Object(a.useState)([]),v=Object(n.a)(f,2),g=v[0],N=v[1],p=Object(a.useState)("0,1"),k=Object(n.a)(p,2),y=k[0],S=k[1],w=Object(a.useState)(!1),C=Object(n.a)(w,2),I=C[0],P=C[1],R=Object(a.useState)({}),E=Object(n.a)(R,2),A=E[0],D=E[1],B=Object(a.useState)(!1),q=Object(n.a)(B,2),M=q[0],Y=q[1];Object(a.useEffect)((function(){F()}),[y]);var F=function(){o(!0),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(d.d)(b.e,{limit:30,status:e})}(y).then((function(e){var t=e.data.bookings;N(void 0===t?[]:t)})).catch().finally((function(){o(!1)}))},J=function(e,t,c,s){var n;x(!0),(n={bookingId:e,status:t,paymentDetails:s},Object(d.f)(b.d,n)).then((function(){1!==t?(g.splice(c,1),3===t&&S(3)):g[c].bookingInfo.status=1,j()("Infomation","Information updated successfully","success")})).catch((function(e){var t=e.message;j()("Error",t,"error")})).finally((function(){x(!1)}))},L=Object(a.useCallback)((function(e){var t;g[e.index].bookingInfo.isReview=1,(t=e,Object(d.e)(Object(b.s)(0),t)).then((function(e){var t=e.message;j()("Success",t,"success")})).catch((function(){}))}),[g]);return Object(u.jsx)("div",{className:"container container-all",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)(l.u,{isShow:h}),I&&Object(u.jsx)(l.t,Object(s.a)({isShow:I,onSubmit:L,onClose:function(){return P(!1)}},A)),M&&Object(u.jsx)(l.y,Object(s.a)({isShow:M,onClose:function(){return Y(!1)},onPayment:function(e){var t=e.id,c=e.index,s=e.status,n=e.payload;Y(!1),J(t,s,c,n)}},A)),Object(u.jsxs)("div",{className:"col-lg-12 mt-3",children:[Object(u.jsx)("h2",{children:1===e?"Booking Request":"My Bookings"}),Object(u.jsx)("div",{className:"booking-tabs",children:Object(u.jsxs)("ul",{className:"nav nav-pills mb-3 user-sign",id:"pills-tab",role:"tablist",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("span",{onClick:function(){return S("0,1")},className:"nav-link click-span ".concat("0,1"===y?"active":""),"data-toggle":"pill",href:"#users",role:"tab","aria-controls":"pills-home","aria-selected":"true",children:1===e?"Requests":"Requested"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("span",{onClick:function(){return S(3)},className:"nav-link click-span ".concat(3===y?"active":""),href:"#provider",role:"tab","aria-controls":"pills-profile","aria-selected":"false",children:"In Progress"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("span",{onClick:function(){return S(4)},className:"nav-link click-span ".concat(4===y?"active":""),role:"tab","aria-controls":"pills-profile","aria-selected":"false",children:"Complete"})})]})})]}),Object(u.jsx)("hr",{className:"line"}),!i&&0===g.length&&Object(u.jsx)("h6",{className:"error-text",children:" No Record found "}),i?[1,2,3].map((function(e){return Object(u.jsx)("div",{className:"col-lg-4 mt-3",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)(r.a,{height:230}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("h5",{className:"card-title",children:Object(u.jsx)(r.a,{width:220})}),Object(u.jsx)("p",{className:"card-text",children:Object(u.jsx)(r.a,{width:160})})]})]})},e)})):g.map((function(t,c){var s=t.userInfo,n=void 0===s?{}:s,a=t.massagerInfo,i=void 0===a?{}:a,r=t.bookingInfo,o=r.id,j=r.status,d=(r.paymentStatus,r.serviceDetails),b=void 0===d?[]:d,m=r.date,O=r.isReview,x=void 0===O?0:O,f=r.massagerId;return Object(u.jsx)("div",{className:"col-lg-4 mt-3",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)(l.j,{className:"card-img-top",url:b[0].image||"http://via.placeholder.com/300x180",alt:"Card image cap"}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsxs)("h5",{className:"card-title",children:[Object(u.jsx)("p",{className:"d-flex justify-content-center",children:"Service Info"}),Object(u.jsx)("hr",{className:"line"}),Object(u.jsx)("strong",{children:"Service Name :- "}),b[0].name]}),Object(u.jsxs)("div",{className:"card-text",children:[Object(u.jsx)("strong",{children:"Price:"})," $",b[0].price,Object(u.jsx)("hr",{className:"line"}),Object(u.jsx)("p",{children:Object(u.jsx)("strong",{children:1===e?"User Info":"Provider Info"})}),1===e&&Object(u.jsxs)("div",{children:["Name: ",Object(u.jsx)("strong",{children:n.userName}),Object(u.jsx)("br",{}),"Email: ",Object(u.jsx)("strong",{children:n.userEmail}),Object(u.jsx)("br",{}),"Phone: ",Object(u.jsx)("strong",{children:n.userPhone}),Object(u.jsx)("br",{})]}),0===e&&Object(u.jsxs)("div",{children:["Name:"," ",Object(u.jsx)("strong",{children:i.massagerName}),Object(u.jsx)("br",{}),"Email:"," ",Object(u.jsx)("strong",{children:i.massagerEmail}),Object(u.jsx)("br",{}),"Phone:"," ",Object(u.jsx)("strong",{children:i.massagerPhone}),Object(u.jsx)("br",{}),"Location:"," ",Object(u.jsx)("strong",{children:i.massagerLocation})]}),Object(u.jsx)("hr",{className:"line"}),m&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("strong",{children:"Booking Date : "}),new Date(1e3*m).toUTCString()]})]})]}),Object(u.jsxs)("div",{className:"card-footer",children:[1===e&&1===j&&Object(u.jsx)("strong",{className:"d-flex justify-content-center text-success",children:"Accepted"}),0===e&&0===j&&Object(u.jsx)("strong",{className:"d-flex justify-content-center text-info",children:"Await"}),1===e&&0===j&&Object(u.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(u.jsx)("button",{className:"btn btn-success mr-4",onClick:function(){return J(o,1,c)},disabled:h,children:"Accept"}),"  ",Object(u.jsx)("button",{onClick:function(){return J(o,2,c)},className:"btn btn-danger",disabled:h,children:"Reject"})]}),0===e&&1===j&&Object(u.jsx)("div",{className:"d-flex justify-content-center",children:Object(u.jsx)("button",{onClick:function(){D({bookingId:o,index:c,massagerId:f,price:b[0].price,massagerStripeId:i.massagerStripeId}),Y(!0)},className:"btn btn-info",disabled:h,children:"Complete Payment"})}),0===e&&4===j&&!x&&Object(u.jsx)("div",{className:"d-flex justify-content-center",children:Object(u.jsx)("button",{onClick:function(){D({bookingId:o,index:c,massagerId:f}),P(!0)},className:"btn btn-info",disabled:h,children:"Give Rating"})}),1===e&&3===j&&Object(u.jsx)("div",{className:"d-flex justify-content-center",children:Object(u.jsx)("button",{onClick:function(){return J(o,4,c)},className:"btn btn-primary",disabled:h,children:"Complete Booking"})})]})]})},o)}))]})})})})};t.default=Object(a.memo)(m)},277:function(e,t,c){"use strict";c.r(t);var s=c(32),n=c(0),a=c(44),i=c.n(a),r=c(36),l=c(41),o=c.n(l),j=c(37),d=c(31),b=c(35),u=c(3),m=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),c=t[0],a=t[1],l=Object(n.useState)(!1),m=Object(s.a)(l,2),O=m[0],h=m[1],x=Object(n.useState)([]),f=Object(s.a)(x,2),v=f[0],g=f[1],N=Object(n.useState)(!1),p=Object(s.a)(N,2),k=p[0],y=p[1];Object(n.useEffect)((function(){S()}),[]);var S=function(){Object(d.d)(b.n).then((function(e){var t=e.data.result;g(t)})).catch().finally((function(){a(!1)}))},w=function(e,t){o()({title:"Are you sure?",text:"Once deleted , you wont be able to recover it!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(c){c?(h(!0),function(e){return Object(d.c)(Object(b.t)(e))}(e).then((function(){v.splice(t,1),o()("Poof! Your imaginary file has been deleted!",{icon:"success"})})).catch((function(e){var t=e.message;j.store.addNotification(Object(d.h)({title:"error",message:t,type:"danger"}))})).finally((function(){h(!1)}))):o()("Your imaginary you is safe!")}))},C=Object(n.useCallback)((function(e){h(!0),function(e){var t=new FormData;return t.append("image",e.image),Object(d.e)(b.a,t)}(e).then((function(e){var t=e.data;v.unshift(t[0])})).catch((function(e){var t=e.message;j.store.addNotification(Object(d.h)({title:"error",message:t,type:"danger"}))})).finally((function(){h(!1)}))}),[v]);return Object(u.jsx)("div",{className:"container container-all",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)(r.u,{isShow:O}),k&&Object(u.jsx)(r.a,{isShow:k,onClose:function(){return y(!1)},onSubmit:C}),Object(u.jsx)("div",{className:"col-lg-12 mt-3",children:Object(u.jsxs)("div",{className:"add-image-section",children:[Object(u.jsx)("h2",{children:"My Work Images"}),v.length<6&&Object(u.jsxs)("button",{className:"btn btn-info",onClick:function(){return y(!0)},children:["+ Add Image"," "]})]})}),Object(u.jsx)("hr",{className:"line"}),0===v.length&&!c&&Object(u.jsx)("h5",{className:"error-text",children:"Nothing Added Yet"}),c?[1,2,3].map((function(e){return Object(u.jsx)("div",{className:"col-lg-4 mt-3",children:Object(u.jsx)("div",{className:"card",children:Object(u.jsx)(i.a,{height:348})})},e)})):v.map((function(e,t){var c=e.id,s=e.image;return Object(u.jsx)("div",{className:"col-lg-4 mt-3",children:Object(u.jsxs)("div",{class:"card",children:[Object(u.jsx)(r.j,{className:"card-img-top",url:s||"http://via.placeholder.com/300x180",alt:"Card image cap",height:"300px"}),Object(u.jsx)("div",{className:"card-footer",children:Object(u.jsx)("div",{className:"d-flex justify-content-center",children:Object(u.jsxs)("button",{onClick:function(){return w(c,t)},className:"btn btn-danger",children:["Remove ",Object(u.jsx)("i",{className:"fa fa-trash",children:" "})]})})})]})},c)}))]})})})})};t.default=Object(n.memo)(m)}}]);
//# sourceMappingURL=bookings.a7c527fe.chunk.js.map