(this.webpackJsonpserviceweb=this.webpackJsonpserviceweb||[]).push([[6],{272:function(e,t,a){"use strict";a.r(t);var c=a(38),s=a(34),n=a(32),o=a(0),r=a(1),l=a(36),i=a(31),d=a(41),j=a.n(d),b=a(37),m={old_password:"",new_password:"",confirm_password:""},u={0:{name:"",email:"",phone:""},1:{name:"",email:"",phone:"",location:"",latitude:0,longitude:0,about_us:""}},O=a(35),h=a(3),p=function(){var e=Object(r.g)(),t=Object(i.p)(),a=Object(o.useState)(!1),d=Object(n.a)(a,2),p=d[0],f=d[1],g=Object(o.useState)(Object(i.j)()),x=Object(n.a)(g,2),v=x[0],N=x[1],_=Object(o.useState)(u[t]),w=Object(n.a)(_,2),y=w[0],F=w[1],C=Object(o.useState)(m),E=Object(n.a)(C,2),P=E[0],k=E[1],S=Object(o.useState)(m),A=Object(n.a)(S,2),B=A[0],U=A[1],D=Object(o.useState)(!1),z=Object(n.a)(D,2),I=z[0],L=z[1],J=Object(o.useState)(!1),R=Object(n.a)(J,2),Y=R[0],H=R[1],M=Object(o.useState)(v.profile||"/assest/images/top1.png"),T=Object(n.a)(M,2),W=T[0],q=T[1],G=function(e){var t=e.target,a=t.name,n=t.value;N(Object(s.a)(Object(s.a)({},v),{},Object(c.a)({},a,n)))},K=function(e){var t=e.target.name;F(Object(s.a)(Object(s.a)({},y),{},Object(c.a)({},t,"")))},Q=function(e){var t=e.target,a=t.name,c=t.value,n={};switch(a){case"email":Object.assign(n,Object(i.z)(a,c));break;case"password":Object.assign(n,Object(i.A)(a,c));break;default:Object.assign(n,Object(i.l)(a,c))}F(Object(s.a)(Object(s.a)({},y),n))},V=Object(o.useCallback)((function(e){var t=e.latitude,a=e.longitude,c=e.address;N((function(e){return Object(s.a)(Object(s.a)({},e),{},{latitude:t,longitude:a,location:c})}))}),[N]),X=function(e){var t=e.target,a=t.name,n=t.value;k(Object(s.a)(Object(s.a)({},P),{},Object(c.a)({},a,n)))},Z=function(e){var t=e.target.name;U(Object(s.a)(Object(s.a)({},B),{},Object(c.a)({},t,"")))},$=function(e){var t=e.target,a=t.name,c=t.value,n={};switch(a){case"confirm_password":Object.assign(n,Object(i.s)(a,c,P.new_password));break;case"old_password":Object.assign(n,Object(i.l)(a,c));break;default:Object.assign(n,Object(i.A)(a,c))}U(Object(s.a)(Object(s.a)({},y),n))};return Object(h.jsxs)(h.Fragment,{children:[I&&Object(h.jsx)(r.a,{to:"/"}),p?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(l.u,{isShow:Y}),Object(h.jsx)("section",{className:"payment ediprofile1 animate__animated animate__zoomIn",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"col-md-12",children:Object(h.jsx)("h3",{className:"title3",children:"Profile"})})})})}),Object(h.jsx)("section",{className:"my_jobs EditProfile animate__animated animate__slideInDown",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"col-md-12",children:Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(h.jsxs)(l.g,{className:"edit_profile1 form-inline",onSubmit:function(e){e.preventDefault(),function(){var e=Object(i.k)(u[t],v);return F(Object(s.a)(Object(s.a)({},y),e)),Object.values(e).some((function(e){return e.length>0}))}()||(H(!0),function(e){var t=new FormData;return t.append("name",e.name),t.append("phone",e.phone),t.append("email",e.email),t.append("profile",e.profile),1===parseInt(e.userType)&&(t.append("location",e.location),t.append("latitude",e.latitude),t.append("longitude",e.longitude),t.append("about_us",e.about_us)),t.append("id",e.id),Object(i.e)(O.i,t)}(v).then((function(e){var t=e.data;b.store.addNotification(Object(i.h)({title:"Success",message:"Profile Updated successfully"})),Object(i.x)(t),f(!p)})).catch((function(e){var t=e.message;b.store.addNotification(Object(i.h)({title:"error",message:t,type:"danger"}))})).finally((function(){H(!1)})))},children:[Object(h.jsxs)("div",{className:"form-group edit_pic",children:[Object(h.jsx)("input",{type:"file",id:"edit_pic",onChange:function(e){var t=e.target,a=t.name,n=t.files;N(Object(s.a)(Object(s.a)({},v),{},Object(c.a)({},a,n[0]))),q(URL.createObjectURL(n[0]))},name:"profile",accept:"image/*"}),Object(h.jsx)(l.j,{url:W,alt:"profile"}),Object(h.jsx)("label",{htmlFor:"edit_pic",children:Object(h.jsx)(l.j,{url:"/assest/images/cam.png"})})]}),Object(h.jsxs)("div",{className:"edit_profile_data",children:[Object(h.jsxs)("div",{className:"form-group log_iocns",children:[Object(h.jsx)("label",{htmlFor:"email",children:"Name:"}),Object(h.jsx)(l.l,{onBlur:Q,onFocus:K,isError:y.name,value:v.name,placeholder:"Full Name",type:"text",className:"form-control",name:"name",onChange:G})]}),Object(h.jsxs)("div",{className:"form-group log_iocns",children:[Object(h.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(h.jsx)(l.l,{onBlur:Q,onFocus:K,isError:y.email,value:v.email,placeholder:"Email",type:"email",className:"form-control",name:"email",onChange:G,readOnly:!0})]}),1===t&&Object(h.jsxs)("div",{className:"form-group log_iocns",children:[Object(h.jsx)("label",{children:" Location"}),Object(h.jsx)(l.h,{onBlur:Q,onFocus:K,isError:y.location,value:v.location,placeholder:"Add your address",type:"text",className:"form-control",name:"location",onAddress:V,onChange:function(e){return G({target:{value:e,name:"location"}})}})]}),Object(h.jsxs)("div",{className:"form-group log_iocns",children:[Object(h.jsx)("label",{children:" Phone Number"}),Object(h.jsx)(l.l,{onBlur:Q,onFocus:K,isError:y.phone,value:v.phone,placeholder:"Phone Number",type:"number",className:"form-control",name:"phone",onChange:G})]}),1===t&&Object(h.jsxs)("div",{className:"form-group log_iocns",children:[Object(h.jsx)("label",{children:" About you"}),Object(h.jsx)(l.z,{onBlur:Q,onFocus:K,isError:y.about_us,value:v.about_us,placeholder:"Add information about you",className:"form-control",name:"about_us",onAddress:V,onChange:G})]})]}),Object(h.jsx)("div",{className:"Explore_all_services",children:Object(h.jsx)("button",{type:"submit",className:"btn btn-secondary",children:"Update"})})]}),Object(h.jsxs)(l.g,{className:"edit_profile1 form-inline",onSubmit:function(e){var t;e.preventDefault(),function(){var e=Object(i.k)(m,P);return U(Object(s.a)(Object(s.a)({},B),e)),Object.values(e).some((function(e){return e.length>0}))}()||(H(!0),(t=P,Object(i.e)(O.f,t)).then((function(){k(Object(s.a)({},m)),b.store.addNotification(Object(i.h)({title:"Success",message:"Password changed successfully"}))})).catch((function(e){var t=e.message;b.store.addNotification(Object(i.h)({title:"error",message:t,type:"danger"}))})).finally((function(){H(!1)})))},children:[Object(h.jsx)("h3",{children:"Change Password"}),Object(h.jsxs)("div",{className:"edit_profile_data update_password",children:[Object(h.jsxs)("div",{className:"form-group log_iocns",children:[Object(h.jsx)("label",{htmlFor:"email",children:"Old Password:"}),Object(h.jsx)(l.l,{onBlur:$,onFocus:Z,isError:B.old_password,value:P.old_password,placeholder:"Old Password",type:"password",className:"form-control",name:"old_password",onChange:X})]}),Object(h.jsxs)("div",{className:"form-group log_iocns",children:[Object(h.jsx)("label",{htmlFor:"email",children:"New Password:"}),Object(h.jsx)(l.l,{onBlur:$,onFocus:Z,isError:B.new_password,value:P.new_password,placeholder:"New Password",type:"password",className:"form-control",name:"new_password",onChange:X})]}),Object(h.jsxs)("div",{className:"form-group log_iocns",children:[Object(h.jsx)("label",{htmlFor:"email",children:"Confirm Password:"}),Object(h.jsx)(l.l,{onBlur:$,onFocus:Z,isError:B.confirm_password,value:P.confirm_password,placeholder:"Confirm Password",type:"password",className:"form-control",name:"confirm_password",onChange:X})]})]}),Object(h.jsx)("div",{className:"Explore_all_services",children:Object(h.jsx)("button",{type:"submit",className:"btn btn-danger",children:"Update"})})]})]})})})})})})]}):Object(h.jsxs)("section",{className:"mender_details prfile animate__animated animate__zoomIn container-all",children:[Object(h.jsx)(l.u,{isShow:Y}),Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"card",children:Object(h.jsx)("div",{className:"card-body",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-lg-3 col-md-4 col-sm-5",children:Object(h.jsx)("div",{className:"mendr_img",children:Object(h.jsx)(l.j,{url:W,width:"100%"})})}),Object(h.jsx)("div",{className:"col-lg-9 col-md-8 col-sm-7",children:Object(h.jsxs)("div",{className:"mendr_details",children:[Object(h.jsx)("h2",{children:"About"}),Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"Name :"})," ",v.name]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"Email :"})," ",v.email]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"Phone :"}),v.phone]}),1===t&&Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"Address :"})," ",v.location]}),1===t&&Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"About you :"})," ",v.about_us]}),Object(h.jsx)("button",{type:"button",onClick:function(){return f(!p)},className:"btn btn-primary et",children:"Edit"})]})})]})})})}),Object(h.jsxs)("div",{className:"delete-account",children:[1===t&&Object(h.jsx)("button",{type:"button",onClick:function(){return e.push("/working-hours")},className:"btn btn-primary mr-4",children:"Update Working Hours"}),Object(h.jsx)("button",{type:"button",onClick:function(){j()({title:"Are you sure?",text:"Once deleted, you will not be able recover account!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e?(H(!0),Object(i.c)(O.h).then((function(){Object(i.v)(),L(!0),j()("Poof! Your imaginary file has been deleted!",{icon:"success"})})).catch((function(e){var t=e.message;b.store.addNotification(Object(i.h)({title:"error",message:t,type:"danger"}))})).finally((function(){H(!1)}))):j()("Your imaginary you is safe!")}))},className:"btn btn-danger et",children:"Delete Account"})]})]})]})};t.default=Object(o.memo)(p)}}]);
//# sourceMappingURL=profile.c3becd10.chunk.js.map